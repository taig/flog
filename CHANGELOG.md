# Changelog

## 0.13.1

_2022-12-27_

* Migrate CI/CD to GitHub Actions
* Use sbt-buildinfo to resolve slf4j version
* Update cats-effect to 3.4.3 (#311)
* Update fs2-core to 3.4.0 (#301)
* Update google-api-services-logging to v2-rev20220922-2.0.0 (#284)
* Update google-auth-library-oauth2-http to 1.14.0 (#308)
* Update google-cloud-logging to 3.13.7 (#310)
* Update sbt to 1.7.2 (#289)
* Update sbt-scalajs, scalajs-compiler, ... to 1.12.0 (#303)
* Update scala-library to 2.13.10 (#288)
* Update scala3-library, ... to 3.2.0 (#280)
* Update scalajs-env-nodejs to 1.4.0 (#277)
* Update slf4j-api to 2.0.0 (#274)
* Update slf4j-api to 2.0.4 (#298)
* Upgrade scala-collection-compat to 2.9.0
* Upgrade to circe 0.14.3
* Upgrade to fs2 3.3.0
* Upgrade to google-cloud-logging 3.11.1
* Upgrade to sbt 1.8.0
* Upgrade to sbt-houserules 0.6.1
* Upgrade to sbt-scalajs 1.11.0
* Upgrade to scala 2.12.17

## 0.13.0

_2022-08-12_

 * Upgrade to google-api-services-logging v2-rev20220714-2.0.0
 * Fix google-cloud-logging version
 * Use ci mode, as strict no longer exists
 * Update sbt-houserules to 0.4.1 (#270)
 * Update google-cloud-logging to 3.10.2 (#269)
 * Update sbt-houserules to 0.3.26 (#266)
 * Update fs2-core to 3.2.12 (#267)
 * Update google-auth-library-oauth2-http to 1.10.0 (#268)
 * Update google-auth-library-oauth2-http to 1.9.0 (#265)
 * Update scala-collection-compat to 2.8.1 (#263)
 * Update fs2-core to 3.2.11 (#262)

## 0.12.1

_2022-07-24_

 * Fix scalajs test execution
 * Update cats-effect to 3.3.14 (#256)
 * Update fs2-core to 3.2.10 (#252)
 * Update google-api-services-logging to v2-rev20220714-1.32.1 (#259)
 * Update google-auth-library-oauth2-http to 1.8.1 (#257)
 * Update sbt to 1.7.1 (#254)
 * Update sbt-houserules to 0.3.24 (#255)
 * Update sbt-scalajs, scalajs-compiler, ... to 1.10.1 (#249)
 * Update scala-collection-compat to 2.8.0 (#253)
 * Update scala-library to 2.12.16 (#250)
 * Update scala3-library, ... to 3.1.3 (#251)
 * Update slugify to 3.0.2 (#258)
 * Upgrade to cats-effect 3.3.13
 * Upgrade to cats-mtl 1.3.0
 * Upgrade to fs2 3.2.9
 * Upgrade to google-api-services-logging v2-rev20220624-1.32.1
 * Upgrade to google-auth-library-oauth-http 1.8.0
 * Upgrade to google-cloud-logging 3.10.0

## 0.12.0

_2022-06-22_

 * Upgrade to slugify 3.0.1
 * Update cats-effect to 3.3.12 (#246)
 * Update circe-core to 0.14.2 (#245)
 * Upgrade to fs2 3.2.8
 * Update google-api-services-logging to v2-rev20220414-1.32.1 (#241)
 * Update google-auth-library-oauth2-http to 1.7.0 (#243)
 * Update google-cloud-logging to 3.9.0 (#248)
 * Update sbt-houserules to 0.3.23 (#247)
 * Update sbt-scalajs, scalajs-compiler, ... to 1.10.0 (#233)
 * Update sbt-scalajs-crossproject to 1.2.0 (#223)
 * Update scala-collection-compat to 2.7.0 (#224)
 * Update scala3-library, ... to 3.1.2 (#237)
 * Upgrade to google-api-services-logging v2-rev20220527-1.32.1

## 0.11.0

_2022-03-07_

 * Remove custom `Payload` implementation in favor of circe `JsonObject`
 * Update cats-effect to 3.3.6 (#216)
 * Update fs2-core to 3.2.5 (#212)
 * Update google-api-services-logging to v2-rev20220211-1.32.1 (#215)
 * Update google-auth-library-oauth2-http to 1.5.3 (#214)
 * Update google-cloud-logging to 3.7.1 (#218)
 * Update http4s-blaze-server, http4s-client, ... to 1.0.0-M30 (#176)
 * Update munit-cats-effect-3 to 1.0.7 (#174)
 * Update sbt to 1.6.2 (#203)
 * Update sbt-houserules to 0.3.20 (#213)
 * Update sbt-scalajs, scalajs-compiler, ... to 1.9.0 (#209)
 * Update scala-library to 2.13.8 (#195)
 * Update scala3-library, ... to 3.1.1 (#204)
 * Update scalajs-env-nodejs to 1.3.0 (#202)
 * Update slf4j-api to 1.7.36 (#207)

## 0.10.12

_2021-11-24_

 * Update fs2-core to 3.2.2 (#162)
 * Update google-api-services-logging to v2-rev20211108-1.32.1 (#169)
 * Update google-auth-library-oauth2-http to 1.3.0 (#168)
 * Update google-cloud-logging to 3.4.0 (#166)
 * Update sbt-houserules to 0.3.16 (#170)
 * Update scala-collection-compat to 2.6.0 (#167)
 * Update scala-library to 2.13.7 (#163)

## 0.10.11

_2021-10-22_

 * Update google-auth-library-oauth2-http to 1.2.2 (#158)
 * Update google-cloud-logging to 3.3.0 (#157)
 * Update fs2-core to 3.1.6 (#155)
 * Update http4s-blaze-server, http4s-client, ... to 1.0.0-M29 (#154)
 * Update sbt-scalajs, scalajs-compiler, ... to 1.7.1 (#151)
 * Update google-api-services-logging to v2-rev20210922-1.32.1 (#148)

## 0.10.10

_2021-09-30_

 * Update cats-effect to 3.2.9 (#143)
 * Update fs2 to 3.1.3
 * Update google-api-services-logging to v2-rev20210817-1.32.1 (#130)
 * Update google-auth-library-oauth2-http to 1.1.0 (#126)
 * Update google-cloud-logging to 3.2.0 (#146)
 * Update http4s to 1.0.0-M27 (#144)
 * Update munit to 0.7.29 (#132)
 * Update munit-cats-effect to 1.0.6
 * Update sbt to 1.5.5 (#109)
 * Update sbt-houserules to 0.3.14 (#142)
 * Update sbt-scalajs to 1.7.0
 * Update sbt-scalajs-crossproject to 1.1.0 (#106)
 * Update scala-collection-compat to 2.5.0 (#107)
 * Update scala to 2.12.15 (#140)
 * Update scala3 to 3.0.2 (#134)
 * Update slf4j-api to 1.7.32 (#112)

## 0.10.9

_2021-07-02_

 * Update scala-library to 2.12.14 (#101)
 * Upgrade to fs2 3.0.5
 * Upgrade to google-cloud-logging 2.3.1
 * Upgrade to munit-cats-effect-3 1.0.5
 * Update google-api-services-logging to v2-rev20210521-1.31.0 (#102)
 * Upgrade to slf4j 1.7.31
 * Upgrade to sbt 1.5.4
 * Upgrade to sbt-scalajs 1.6.0
 * Upgrade to sbt-houserules 0.3.11

## 0.10.8

_2021-05-28_

 * Add support for Scala 3 (#98)
 * Update http4s-blaze-server, http4s-client, ... to 1.0.0-M23 (#100)
 * Update circe-core to 0.14.1 (#99)

## 0.10.7

_2021-05-23_

 * Migrate master -> main
 * Update http4s to 1.0.0-M22 (#97)
 * Update cats-effect to 3.1.1 (#85)
 * Update fs2 to 3.0.4 (#96)
 * Update sbt-houserules to 0.3.10 (#94)
 * Update scala to 2.13.6 (#93)
 * Update google-cloud-logging to 2.2.3 (#83)
 * Update google-auth-library-oauth2-http to 0.26.0 (#95)
 * Update google-api-services-logging to v2-rev20210507-1.31.0 (#91)
 * Update munit to 0.7.26 (#84)
 * Update munit-cats-effect-3 to 1.0.3 (#88)
 * Update cats-mtl to 1.2.1 (#86)
 * Update scala-collection-compat to 2.4.4 (#87)
 * Update sbt to 1.5.2 (#82)

## 0.10.6

_2021-04-28_

 * Fix slf4j StaticMDCAdapter initialization
 * Update cats-effect to 3.1.0 (#73)
 * Update cats-mtl to 1.2.0 (#72)
 * Update fs2-core to 3.0.2 (#76)
 * Update sbt to 1.5.1 (#77)
 * Update google-cloud-logging to 2.2.2 (#79)
 * Update google-api-services-logging to v2-rev20210416-1.31.0 (#78)
 * Update google-auth-library-oauth2-http to 0.25.5 (#75)
 * Update munit-cats-effect-3 to 1.0.2 (#74)
 * Update munit to 0.7.25 (#70)

## 0.10.5

_2021-04-14_

 * Apply slugify to gcloud grpc logger name

## 0.10.4

_2021-04-14_

 * Catch dispatcher already shutdown exception in slf4j logger
 * Dump log messages that fail to be handled in slf4j bridge to stderr
 * Remove FlogSlf4JBinder.initialize method that creates its own dispatcher
 * Upgrade slugify to 2.5 (#68)

## 0.10.3

_2021-04-13_

 * Revisit slf4j bridge, mostly copied by zio-logging
 * Use slugify library to encode stackdriver (http) logName

## 0.10.2

_2021-04-13_

 * Include erroneous log entries in stackdriver error handling
 * Update google-auth-library-oauth2-http to 0.25.3 (#67)

## 0.10.1

_2021-04-11_

 * Upgrade to http4s 1.0.0-M21
 * Update cats-effect to 3.0.2 (#66)
 * Update google-cloud-logging to 2.2.1 (#64)
 * Update sbt to 1.5.0 (#63)
 * Update google-api-services-logging to v2-rev20210325-1.31.0 (#62)
 * Update sbt-scalajs, scalajs-compiler, ... to 1.5.1 (#61)
 * Update fs2-core to 3.0.1 (#59)
 * Update munit-cats-effect-3 to 1.0.1 (#60)

## 0.10.0

_2021-03-30_

 * Remove `sheets`, `zio` and `monix` modules
 * Upgrade to cats-effect 3.0.1 (#58)
 * Update sbt to 1.5.0-RC2 (#47)

## 0.9.6

_2021-03-22_

 * [#12] Add batched logger (#16)
 * A lot of scala steward

## 0.9.5

_2021-02-07_

 * Align `StackdriverGrpcLogger` API with `StackdriverHttpLogger`
 * Add `grpc.MonitoredResources` helper
 * Fix Stackdriver configuration issues

## 0.9.4

_2021-02-07_

 * Swap argument order in `ContextualLogger.local` and `.scope`
 * Streamline data and `LoggerOps` APIs

## 0.9.3

_2021-02-06_

 * Rename `Trace` to `Correlation`
 * Use `Chain` instead of `List` for `Scope`

## 0.9.2

_2021-02-06_

 * Change LoggingMiddleware to use Http, not HttpRoutes
 * Change TracingMiddleware to use Http, not HttpRoutes
 * Add some convenience methods

## 0.9.1

_2021-02-06_

 * Add `toJson` conversion methods to `circe` module
 * Properly escape json

## 0.9.0

_2021-02-05_

 * Remove circe from core (#11)

## 0.8.1

_2021-02-05_

 * [#4] Queued logger doesn't flush remaining items before shutdown
 * Replace import cats.implicits._ with cats.syntax.all._
 * Migrate tests to munit
 * Reorganize dependency versions
 * Update http4s-client, http4s-server to 0.21.18 (#10)
 * Update zio to 1.0.4-2 (#9)
 * Update google-api-services-logging to v2-rev20201114-1.31.0 (#5)
 * Update google-api-services-sheets to v4-rev20201130-1.31.0 (#6)
 * Upgrade to sbt 1.4.7
 * Upgrade to google-auth-library-oauth2-http 0.23.0
 * Upgrade to google-cloud-logging 2.1.3
 * Upgrade to sbt-scalajs 1.4.0
 * Upgrade to scala-collection-compat 2.4.1
 * Upgrade to fs2 2.5.0
 * Upgrade to monix 3.3.0
 * Upgrade to cats-mtl 1.1.1
 * Upgrade to cats-effect 2.3.1
 * Upgrade to scala 2.13.4
 * Upgrade to sbt-houserules 0.3.2
 * Migrate to gitlab CI caching mechanism

## 0.8.0

_2020-10-14_

 * Upgrade to cats-mtl 1.0.0
 * Upgrade to sbt-houserules 0.3.0

## 0.7.5

_2020-10-11_

 * http4s client should not depend on blaze-client, but just client
 * http4s server should not depend on blaze-server, but just server
 * Upgrade to zio 1.0.3
 * Upgrade to http4s 0.21.7
 * Upgrade to cats-effect 2.2.0
 * Upgrade to google-cloud-logging 1.102.0
 * Upgrade to scala-collection-compat 2.2.0
 * Upgrade to sbt-scalajs 1.2.0
 * Upgrade to fs2 2.4.4
 * Upgrade to zio 1.0.1
 * Upgrade to sbt 1.4.0

## 0.7.4

_2020-08-08_

 * Upgrade sheets logger dependencies
 * Upgrade to zio 1.0.0
 * Add Scope.from(Simple)Name(value: Any) methods

## 0.7.3

_2020-08-02_

 * Fix logName in failureEntry

## 0.7.2

_2020-07-31_

 * Add native-image configuration for `stackdriver-http` module
 * Upgrade to scala 2.12.12
 * Add `MonitoredResources` helper

## 0.7.1

_2020-07-24_

 * Add `StackdriverHttpLogger` error handling
 * Improve `StackdriverGrpcLogger` failureEntry payload construction

## 0.7.0

_2020-07-24_

 * Rename `stackdriver` module to `stackdriver-grpc` and introduce `stackdriver-http`
 * Upgrade to zio 1.0.0-RC21-2
 * Upgrade to zio-interop-cats 2.1.4.0-RC17
 * Upgrade to sbt-scalajs 1.1.1
 * Upgrade to cats-effect 2.1.4
 * Upgrade to sbt 1.3.13

## 0.6.12

_2020-07-01_

 * Log failures in request execution
 * Remove `filter` parameter from `LoggingMiddleware`, use `Logger.filter` instead
 * Rename `internal` package to `util`
 * Remove explicit root / aggregation module
 * Upgrade to google-cloud-logging 1.101.2

## 0.6.11

_2020-06-29_

 * Downgrade to google-cloud-logging 1.101.1, as version 1.101.2 appears to be flawed

## 0.6.10

_2020-06-29_

 * Add `StackdriverLogger.fromOptions` builder
 * Upgrade to http4s 0.21.6
 * Upgrade to scala 2.13.3
 * Upgrade to sbt-houserules 0.2.3

## 0.6.9

_2020-06-24_

 * Upgrade to sbt-houserules 0.2.2
 * Upgrade to sbt-scalajs 1.1.0
 * Upgrade to cats-effect 2.1.3
 * Upgrade to scala-collection-compat 2.1.6
 * Upgrade to fs2 2.4.2
 * Upgrade to http4s 0.21.4
 * Upgrade to google-cloud-logging 1.101.2
 * Upgrade to monix 3.2.2
 * Upgrade to scala 2.13.2
 * Upgrade to sbt 1.3.12

## 0.6.8

_2020-04-15_

 * Split `LoggingMiddleware` into `Logging`- and `TracingMiddleware`
 * Log request body when the request is canceled
 * Adjust `Client` logging structure to `Server` logging
 * Upgrade to sbt 1.3.10

## 0.6.7

_2020-04-13_

 * Add `ContextualLogger.liftNoop`
 * Use `.runAsync().unsafeRunSync()` in favor of `.toIO.unsafeRunSync()`

## 0.6.6

_2020-04-11_

 * Add `filter` parameter to `TracingMiddleware`
 * Remove ability to log request / response bodies

## 0.6.5

_2020-04-11_

 * Stackdriver requires a name as the logger name may not be empty

## 0.6.4

_2020-04-11_

 * Rename `Scope.fromClassName` to `Scope.fromName`
 * Add `Scope.fromSimpleName`
 * Always attach an `insertId` to Stackdriver LogEntries
 * Filter out Stackdriver payload `null` values
 * Use `Scope` as Stackdriver logger name
 * Remove Stackdriver global default builder

## 0.6.3

_2020-04-09_

`0.6.2` could not be released due to a misconfiguration, use ` 0.6.3` instead.

## 0.6.2

_2020-04-09_

 * Add defensive error handling for `StackdriverLogger` failures
 * Return Slf4j `NOPLoggerFactory` instead of throwing an exception when not initialized
 * Move `Logger` & `ContextualLogger` to `io.taif.flog`
 * Add `ContextualLogger.imapK`
 * Upgrade to google-cloud-logging 1.101.1

## 0.6.1

_2020-04-02_

 `0.6.0` could not be released due to a misconfiguration, use ` 0.6.1` instead.

  * Upgrade to scala 2.12.11
  * Fix tests compile error on Scala 2.12
  * Upgrade to http4s 0.21.3

## 0.6.0

_2020-04-02_

 * Increase Logging API surface to simplify usage
 * Revert switching from `JsonObject` to `Json`
 * Migrate tests to testf
 * Introduce `Builder.defaults to` consistently implement `prefix` & `preset`
 * Use `Event.defaults` in `ContextualLogger.apply`
 * Add `Logger.presets` and extend test suite
 * Upgrade to http4s 0.21.2

## 0.5.0

_2020-04-01_

 * Use simple `Json` values for payloads instead of `JsonObject`
 * Upgrade to google-cloud-logging 1.101.0
 * Upgrade to sbt-houserules 0.2.1
 * Upgrade to sbt 1.3.9

## 0.4.1

_2020-03-22_

 * Change Builders parameter order to improve function composition
 * Logger.stdOut to return an F rather than a Resource

## 0.4.0

_2020-03-22_

 * Add support for filters (#3)
 * Add a slf4j backend (#3)
 * Upgrade to fs2 2.3.0

## 0.3.2

_2020-03-19_

 * Fix erroneous libraryDependencies not loading scalajs
 * Add `http4s-server` module
 * Add `http4s-client` module
 * Upgrade to cats-mtl 0.7.1
 * Upgrade to zio-interop-cats 2.0.0.0-RC12
 * Upgrade to zio 1.0.0-RC18-2
 * Upgrade to cats-effect 2.1.2

## 0.3.1

_2020-02-28_

 * Add `ContextualLogger.noop`
 * Add `Logger.noTimestamp` and simplify `Slf4jLogger`
 * Document logstash config
 * Upgrade to scalatest 3.1.1

## 0.3.0

_2020-02-13_

 * Add `logstash` module
 * Add `fs2-core` dependency to `core` module
 * Improve resource handling of `Logger` builders
 * Add `Logger.queued` builder that handles events asynchronously and guarantees thread safety

## 0.2.1

_2020-02-08_

 * Upgrade to cats-effect 2.1.1
 * Upgrade to circe 0.13.0

## 0.2.0

_2020-02-06_

 * Switch from custom `FiberRef` with `HasFiberRef` typeclass to `cats-mtl.ApplicativeLocal`

## 0.1.0

_2020-02-05_

 * Switch to zio/monix `FiberRef` for contextual logging (#2)

## 0.0.5

_2019-12-21_

 * Bring back support for native timestamps
 * Improve CI integration

## 0.0.4

_2019-12-13_

 * Add basic slf4j module
 * Add `Logger.mapK`
 * Add `Logger#append` helpers
 * Upgrade to sbt-scalajs 0.6.31
 * Upgrade to google-cloud-logging 1.99.0
 * Upgrade to scala-collection-compat 2.1.3
 * Upgrade to sbt 1.3.5

## 0.0.3

_2019-10-25_

 * Simplify logger by removing state, and weaken `TracedFailure` accordingly
 * Upgrade to circe 0.12.3

## 0.0.2

_2019-10-19_

 * Add scalajs support (#1)
 * Upgrade to google-cloud-logging 1.98.0
 * Upgrade to sbt 1.3.3
 * Upgrade to sbt-houserules 0.1.1
 * Upgrade to circe 0.12.2

## 0.0.1

_2019-09-20_

 * Initial release
